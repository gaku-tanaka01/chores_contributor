# Chores Contributor

家事の報告を管理し、週次でポイント集計を行うAPIサーバー。

## 主な機能

- 家事の報告（HTTP API + LINE Webhook）
- 週次ポイントの自動集計とランキング
- 冪等性保証による重複報告の排除
- タスク辞書に基づくポイント換算
- LINEコマンド（`@bot <task> [<option>]`・`@bot me`・`@bot top`・`@bot help`・`@bot 取消`・`@bot task`）への即時返信

## 利用イメージ

- 家族や同居グループでBotを招待し、日々の家事をLINEで報告
- 週末に自分やグループ全体のポイントを確認し、貢献度を可視化
- 必要に応じてAPI経由でダッシュボードや外部サービスと連携

## LINEでの使い方

1. Botを友だち追加  
   管理者が発行したQRコードを読み取るか、招待リンクから追加します。
2. グループに招待  
   家族グループへBotを招待すると、そのグループが集計単位として登録されます。
3. 自分を紐づけ  
   個別チャットで `@bot me` を送信すると、自分のLINEアカウントがユーザーIDとして登録されます。
4. 家事を報告  
   `@bot 皿洗い` のように、家事名を添えて報告します。`@bot 皿洗い 15分` のようにメモを添えることも可能です。
5. ポイントを確認  
   `@bot me` で自分の今週ポイント、`@bot top` でグループ内ランキング（開発中）を確認できます。
6. タスク一覧を見る  
   `@bot task` で登録済みタスクとポイントを確認できます。困った時は `@bot help` を送ってください。

### LINEコマンド一覧

```
@bot 皿洗い         # 家事報告（alias/タイプミス補正あり）
@bot task          # 登録済みタスク一覧を確認
@bot me            # 今週の自分のポイント
@bot top           # 今週のTOP3（準備中）
@bot 取消          # 直前に登録した報告を取り消し
@bot help          # 使い方メッセージ
```

## APIで利用する場合

- 詳細なエンドポイント仕様は `openapi.yaml` を参照してください。
- `POST /events/report` にJSONを送信して家事を記録できます。
- `POST /webhook` にLINE Webhookを送信して家事を記録できます。
- `GET /houses/{group}/weekly` で週次集計を取得できます。

## 追加リソース

- 開発者向けのセットアップ手順やコマンドは `DEVELOPMENT.md` を参照してください。
- 運用時の手順やチェックリストは `OPERATION_CHECK.md` を活用できます。
